;	*****************DARTH_MOD_SPECIAL ChivTW*****************


;****************************************************************
;The simplest formation. The units are lined up in a single line
;****************************************************************

begin_formation simple_line

	general_order Group_Formation_Single_Line

	;;; Only one slot main slot
	begin_block						0
		unit_type					any 1.0
		block_formation				line
		block_relative_pos			0 0.0 0.0
		inter_unit_spacing			0.2
		priority					1.0
	end_block

        begin_block						1
		unit_type					handler				1.0
		unit_type					siege				1.0
		block_formation				line
		block_relative_pos			0 0.0 -6.0
		inter_unit_spacing			10.0
		priority					0.8
	end_block

end_formation







;****************************************************************
; A single line, but with the units ordered with heavy infantry in the centre*Barbarian defense FORMATION
; lighter infantry on the flanks, and cavalry on the wings
;****************************************************************

begin_formation ordered_single_line

	general_order Group_Formation_Sorted_Line

	;; Center block of infantry
		begin_block 0
			min_units			1
                        max_units			3
                        not_general
                        unit_type			spearmen 1.0
                        unit_type			heavy infantry 0.8
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          schiltrom
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		column
			block_relative_pos	0 0.0 0.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;;Right block of infantry
		begin_block 1
			min_units			1
                        max_units			3
                        not_general
                        unit_type			spearmen 1.0
                        unit_type			heavy infantry 0.8
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          schiltrom
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		column
			block_relative_pos	0 0.2 0.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;; Left block of infantry
		begin_block 2
			min_units			1
                        max_units			3
                        not_general
			unit_type			spearmen 1.0
                        unit_type			heavy infantry 0.8
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          schiltrom
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		column
			block_relative_pos	0 -0.2 0.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

                ;; Left of left block of infantry
		begin_block 3
			min_units			1
                        max_units			3
                        not_general
			unit_type			spearmen 1.0
                        unit_type			heavy infantry 0.8
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          schiltrom
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		column
			block_relative_pos	2 -0.2 0.0
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                ;; Right of right block of infantry
		begin_block 4
			min_units			1
                        max_units			3
                        not_general
			unit_type			spearmen 1.0
                        unit_type			heavy infantry 0.8
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          schiltrom
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		column
			block_relative_pos	1 0.2 0.0
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                begin_dummy_block 5
			spans  0 1 2 3 4 
		end_dummy_block

		;; Archers behind
		begin_block 6
                        not_general
			unit_type			ranged_missile_infantry 1.0
                        unit_type			missile infantry 1.0
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                       ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	5 0.0 -10.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block


;; artillery and handlers at the back
		begin_block 7
                        not_general
			unit_type			handler				1.0
			unit_type			siege				1.0
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	6 0.0 -6.0
			inter_unit_spacing	10.0
			priority			0.5
		end_block


		;; cavalry on the flanks and back a bit

		;; left flank cav
		begin_block 8
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	5 -1.0 -5.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                ;; left flank cav(more)
		begin_block 9
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	8 0 -3.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

		;; right_flank cav
		begin_block 10
                        not_general
			unit_type			cavalry 1.0
                       ;min_unit_width			25
                       ;max_unit_width			25
			block_formation		line
			block_relative_pos	5 1.0 -5.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                ;; right_flank cav(more)
		begin_block 11
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	10 0 -3.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                begin_dummy_block 12
			spans 0 1 2 3 4 5 6 7 8 9 10 11 
		end_dummy_block

              

;; general at the back
		begin_block 13
			min_units				1
			max_units				1
			unit_type				general_unit			1.0
                        ;unit_formation          square, wedge
                        ;default_melee_state	skirmish
			;unit_density			close
                        ;min_unit_width			20
                        ;max_unit_width			20
			block_formation			line
			block_relative_pos		12 0.0 -10.0
			inter_unit_spacing		10.0
			priority				1.0
		end_block


end_formation

;****************************************************************
; Double Line. 
; Non missile infantry in front
; Missile troops and general behind*DOUBLE LINE
; Melee Cavalry split between wings
;****************************************************************


begin_formation ordered_double_line

	general_order Group_Formation_Sorted_Double_Line

	;; front block
	begin_block 0
		unit_type					heavy infantry		1.0
		unit_type					light infantry		1.0
		unit_type					skirmish infantry	1.0
		unit_type					spearmen infantry	1.0
;;		unit_type					artillery			1.0
		block_formation				line
		block_relative_pos			0 0.0 0.0
		inter_unit_spacing			2.0
		priority					1.0
	end_block

	;; rear block
	begin_block 1
		unit_type					general_unit		1.0
		unit_type					missile cavalry		1.0
		unit_type					missile infantry	1.0
		block_formation				line
		block_relative_pos			0 0.0 -15.0
		inter_unit_spacing			3.0
		priority					1.0
	end_block

	;; dummy block
	begin_dummy_block 2
		spans			0 1
	end_dummy_block

	;; right wing cavalry
	begin_block 3
		not_general
		unit_type					heavy cavalry		1.0
		unit_type					light cavalry		1.0
		unit_type					skirmish cavalry	1.0
		unit_type					missile cavalry		0.3	;;; put some missile cav here too if there are lots
		unit_type					spearmen cavalry	1.0
		block_formation				line
		block_relative_pos			2 10.0 0.0
		inter_unit_spacing			3.0
		priority					1.0
	end_block
		
	;; left wing cavalry
	begin_block 4
		not_general
		unit_type					heavy cavalry		1.0
		unit_type					light cavalry		1.0
		unit_type					skirmish cavalry	1.0
		unit_type					missile cavalry		0.3	;;; put some missile cav here too if there are lots
		unit_type					spearmen cavalry	1.0
		block_formation				line
		block_relative_pos			2 -10.0 0.0
		inter_unit_spacing			3.0
		priority					1.0
	end_block

	;; put the artillery and handlers behind everyone
	begin_dummy_block 5
		spans 0 1 2 3 4
	end_dummy_block

	begin_block 6
		unit_type					handler				1.0
		unit_type					siege				1.0
		block_formation				line
		block_relative_pos			5 0.0 -15.0
		inter_unit_spacing			3.0
		priority					1.0
	end_block

end_formation



;****************************************************************
; Double Line. 
; Non missile infantry in front
; Missile troops and general behind*BYZANTINE FORMATION
; Melee Cavalry split between wings
;****************************************************************


begin_formation ordered_double_line

	general_order Group_Formation_Sorted_Double_Line

	;; the heavy troops that advance
		begin_block 0
                        min_units			2
                        not_general
                        ;unit_type			heavy_pilum_infantry 1.0
			unit_type			heavy infantry	1.0
                        ;unit_type			light_pilum_infantry 0.7
			unit_type			light infantry		0.3
                        unit_type			infantry			0.1
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	0 0.0 -6.0 
			inter_unit_spacing	6.0
			priority			0.8
		end_block

                ;; the reserve are mostly spearmen
		begin_block 1
                        min_units			2
                        not_general
                        unit_type			spearmen_pilum_infantry 1.0
			unit_type			spearmen infantry	0.9
			unit_type			heavy infantry		0.1
                        unit_type			infantry			0.1
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	0 0.0 -6.0 
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                ;; the reserve are mostly spearmen (2)
		begin_block 2
                        min_units			2
                        not_general
			unit_type			spearmen infantry		0.1
			unit_type			heavy infantry		0.1
                        unit_type			infantry			0.1
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	1 0.0 -2.0 
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                begin_dummy_block 3
			spans 0 1 2 
		end_dummy_block

		;; general at the center
		begin_block 4
			min_units				1
			max_units				1
			unit_type				general_unit			1.0
			;unit_density			close
			block_formation			line
			block_relative_pos		3 0.0 -7.0
			inter_unit_spacing		0.2
			priority				1.0
		end_block
              

                ;; the reserve are mostly spearmen (3)Protecting and following the general.
		begin_block 5
                        min_units			2
                        not_general
			unit_type			spearmen	1.0
			unit_type			heavy infantry		0.5
                        unit_type			infantry			0.1
			unit_type			any					0.01
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	4 0.0 -5.0 
			inter_unit_spacing	2.0
			priority			0.8
		end_block


	        ;; put the cavalry behind of everyone
		begin_dummy_block 6
			spans 0 1 2 3 4 5 
		end_dummy_block


                ;; Heavy cavalry forms a mass ahead.
		begin_block 7
                        min_units			2
                        not_general
                        unit_type				light cavalry			1.0
		unit_type				skirmish cavalry		1.0
		unit_type				missile cavalry		1.0
                unit_type				cavalry		0.0
			;unit_density		close
			block_formation		line
			block_relative_pos	6 0.0 -8.0 
			inter_unit_spacing	6.0
			priority			1.0
		end_block

;; support cavalry behind
                begin_block 8
                        min_units			2
                        not_general
			unit_type				heavy cavalry			1.0
		unit_type				spearmen cavalry		1.0
                unit_type				cavalry		0.0
			;unit_density		close
			block_formation		line
			block_relative_pos	7 0.0 -8.0 
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                begin_dummy_block 9
			spans 0 1 2 3 4 5 6 7 8 
		end_dummy_block

begin_block 10
                        not_general
			unit_type					handler				1.0
		unit_type					siege				3.0
		unit_type					chanting_screeching	3.0
			block_formation				line
			block_relative_pos			9 0.0 -3.0
			inter_unit_spacing			10.0
			priority					0.5
		end_block

                ;; missile units
		begin_block 11
                        not_general
			unit_type			ranged_missile_infantry		1.0
			;unit_density		close
			block_formation		line
			block_relative_pos	9 0.0 10.0 
			inter_unit_spacing	6.0
			priority			1.0
		end_block


end_formation




;****************************************************************
; Triple Line. 
; Missile Infantry*CIVILIZED FORMATION
; Non Missile Infantry
; Cavalry
;****************************************************************


begin_formation ordered_triple_line_1

	general_order Group_Formation_Missile_First_3_lines

	 ;; the heavy troops that advance
		begin_block 0
                        min_units			2
                        not_general
                        ;unit_type			heavy_pilum_infantry 1.0
			unit_type			heavy infantry	1.0
                        ;unit_type			light_pilum_infantry 0.7
			unit_type			light infantry		0.3
                        unit_type			infantry			0.1
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	0 0.0 -6.0 
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                ;; the reserve are mostly spearmen
		begin_block 1
                        min_units			2
                        not_general
                        unit_type			spearmen_pilum_infantry 1.0
			unit_type			spearmen infantry	0.9
			unit_type			heavy infantry		0.1
                        unit_type			infantry			0.1
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	0 0.0 -6.0 
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                ;; the reserve are mostly spearmen (2)
		begin_block 2
                        min_units			2
                        not_general
			unit_type			spearmen infantry		0.1
			unit_type			heavy infantry		0.1
                        unit_type			infantry			0.1
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	1 0.0 -2.0 
			inter_unit_spacing	0.2
			priority			0.8
		end_block

                begin_dummy_block 3
			spans 0 1 2 
		end_dummy_block

		;; general at the center
		begin_block 4
			min_units				1
			max_units				1
			unit_type				general_unit			1.0
			;unit_density			close
			block_formation			line
			block_relative_pos		3 0.0 -7.0
			inter_unit_spacing		0.2
			priority				1.0
		end_block
              

                ;; the reserve are mostly spearmen (3)Protecting and following the general.
		begin_block 5
                        min_units			2
                        not_general
			unit_type			spearmen	1.0
			unit_type			heavy infantry		0.5
                        unit_type			infantry			0.1
			unit_type			any					0.01
                        ;unit_formation          shield_wall, square
			;unit_density		close
			block_formation		line
			block_relative_pos	4 0.0 -5.0 
			inter_unit_spacing	2.0
			priority			0.8
		end_block


	        ;; put the cavalry behind of everyone
		begin_dummy_block 6
			spans 0 1 2 3 4 5 
		end_dummy_block


                ;; Heavy cavalry forms a mass ahead.
		begin_block 7
                        min_units			2
                        not_general
                        unit_type				light cavalry			1.0
		unit_type				skirmish cavalry		1.0
		unit_type				missile cavalry		1.0
                unit_type				cavalry		0.0
			;unit_density		close
			block_formation		line
			block_relative_pos	6 0.0 -8.0 
			inter_unit_spacing	6.0
			priority			1.0
		end_block

;; support cavalry behind
                begin_block 8
                        min_units			2
                        not_general
			unit_type				heavy cavalry			1.0
		unit_type				spearmen cavalry		1.0
                unit_type				cavalry		0.0
			;unit_density		close
			block_formation		line
			block_relative_pos	7 0.0 -8.0 
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                begin_dummy_block 9
			spans 0 1 2 3 4 5 6 7 8 
		end_dummy_block

begin_block 10
                        not_general
			unit_type					handler				1.0
		unit_type					siege				3.0
		unit_type					chanting_screeching	3.0
			block_formation				line
			block_relative_pos			9 0.0 -3.0
			inter_unit_spacing			10.0
			priority					0.5
		end_block

                ;; missile units
		begin_block 11
                        not_general
			unit_type			ranged_missile_infantry		1.0
			;unit_density		close
			block_formation		line
			block_relative_pos	9 0.0 10.0 
			inter_unit_spacing	6.0
			priority			1.0
		end_block


end_formation



;****************************************************************
; Triple Line. 
; Non Missile Infantry*Semi-Barbarian FORMATION
; Missile troops
; Non Missile Cavalry
;****************************************************************	
		

begin_formation ordered_triple_line_2
	
	general_order Group_Formation_Infantry_First_3_Lines

	 ;; First line of infantry
		begin_block 0
			min_units			3
                        not_general
			unit_type			heavy infantry 1.0
                        unit_type			light infantry 0.3
                        ;default_melee_state	defend
                        ;unit_formation          square
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	0 0.0 0.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;; second line of infantry
		begin_block 1
			min_units			3
                        not_general

                        unit_type			light infantry 1.0
                        ;default_melee_state	defend
                        ;unit_formation          square
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	0 0.0 -2.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;; 3rd line of infantry
		begin_block 2
			min_units			2
                        not_general
			unit_type			heavy infantry 0.4
			unit_type			spearmen 1.0
                        ;default_melee_state	defend
                        ;unit_formation          square
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	1 0.0 -2.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

		;; Archers behind
		begin_block 3
                        not_general
			unit_type			ranged_missile_infantry 1.0
                        unit_type			non_phalanx_spear 0.5
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	2 0.0 -6.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

	
		begin_dummy_block 4
			spans  0 1 2 3
		end_dummy_block

                ; Screen of missile inf
		begin_block 5
                        not_general
			unit_type			missile infantry 0.5
                        unit_type			elephants 1.0
                        unit_type			heavy_chariots 1.0
                        unit_type			any					0.01
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	4 0.0 -6.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

;; artillery and handlers at the back
		begin_block 6
                        not_general
			unit_type			handler				1.0
			unit_type			siege				1.0
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	4 0.0 -20.0
			inter_unit_spacing	10.0
			priority			0.5
		end_block


		;; cavalry on the flanks and back a bit

		;; left flank cav
		begin_block 7
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	4 -1.0 -5.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

                ;; left flank cav(more)
		begin_block 8
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	7 1 -3.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

		;; right_flank cav
		begin_block 9
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	4 1.0 -5.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

                ;; right_flank cav(more)
		begin_block 10
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	9 -1 -3.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

                begin_dummy_block 11
			spans 0 1 2 3 4 5 6 7 8 9 10 
		end_dummy_block

              

;; general at the back
		begin_block 12
			min_units				1
			max_units				1
			unit_type				general_unit			1.0
                        ;unit_formation          square, wedge
                        ;default_melee_state	skirmish
			;unit_density			close
			block_formation			line
			block_relative_pos		11 0.0 -10.0
			inter_unit_spacing		10.0
			priority				1.0
		end_block


end_formation



;****************************************************************
; Triple Line. 
; Cavalry
; Missile Infantry*Barbarian Wedge ATTACK FORMATION
; Non Missile Infantry
;****************************************************************

begin_formation ordered_triple_line_3

	general_order Group_Formation_Cavalry_First_3_Lines

	;; Center block of infantry(wedge top)
		begin_block 0
			min_units			1
                        max_units			2
                        not_general
                        unit_type			heavy infantry 1.0
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          shield_wall
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	0 0.0 0.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;;Rear block of infantry
		begin_block 1
			min_units			2
                        max_units			3
                        not_general
                        unit_type			heavy infantry 1.0
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          shield_wall
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	0 0.0 -0.2
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;; More Rear block of infantry
		begin_block 2
			min_units			3
                        max_units			4
                        not_general
			unit_type			heavy infantry 1.0
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          shield_wall
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	1 0.0 -0.2
			inter_unit_spacing	0.2
			priority			1.0
		end_block

                ;; Last block of infantry
		begin_block 3
			min_units			4
                        max_units			5
                        not_general
			unit_type			heavy infantry 1.0
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          shield_wall
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	2 0.0 -0.2
			inter_unit_spacing	0.2
			priority			0.6
		end_block

                ;; Reserve block of infantry
		begin_block 4
			;min_units			1
                        ;max_units			3
                        not_general
			unit_type			heavy infantry 1.0
                        unit_type			light infantry 0.5
                        unit_type			any 0.001
                        ;default_melee_state	defend
                        ;unit_formation          shield_wall
			;unit_density		close, loose
                        ;min_unit_width			25
                        ;max_unit_width			25
			block_formation		line
			block_relative_pos	3 0.0 -0.2
			inter_unit_spacing	0.2
			priority			0.6
		end_block

                begin_dummy_block 5
			spans  0 1 2 3 4 
		end_dummy_block

		;; Archers behind
		begin_block 6
                        not_general
			unit_type			ranged_missile_infantry 1.0
                        unit_type			missile infantry 0.0
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                        ;min_unit_width			30
                        ;max_unit_width			30
			block_formation		line
			block_relative_pos	5 0.0 -25.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block


;; artillery and handlers at the back
		begin_block 7
                        not_general
			unit_type			handler				1.0
			unit_type			siege				1.0
                        ;default_melee_state	skirmish
                        ;unit_formation          square
                        ;min_unit_width			30
                        ;max_unit_width			30
			block_formation		line
			block_relative_pos	6 0.0 -6.0
			inter_unit_spacing	10.0
			priority			0.5
		end_block


		;; cavalry on the flanks and back a bit

		;; left flank cav
		begin_block 8
                        not_general
			unit_type			missile infantry 1.0
                        ;min_unit_width			30
                        ;max_unit_width			30
			block_formation		column
			block_relative_pos	5 -25.0 15.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                ;; left flank cav(more)
		begin_block 9
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			30
                        ;max_unit_width			30
			block_formation		square
			block_relative_pos	8 -6 -3.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

		;; right_flank cav
		begin_block 10
                        not_general
			unit_type			missile infantry 1.0
                        ;min_unit_width			30
                        ;max_unit_width			30
			block_formation		column
			block_relative_pos	5 25.0 15.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                ;; right_flank cav(more)
		begin_block 11
                        not_general
			unit_type			cavalry 1.0
                        ;min_unit_width			30
                        ;max_unit_width			30
			block_formation		square
			block_relative_pos	10 6 -3.0
			inter_unit_spacing	6.0
			priority			0.5
		end_block

                begin_dummy_block 12
			spans 0 1 2 3 4 5 6 7 8 9 10 11 
		end_dummy_block

              

;; general at the back
		begin_block 13
			min_units				1
			max_units				1
			unit_type				general_unit			1.0
                        ;unit_formation          square, wedge
                        ;default_melee_state	skirmish
			;unit_density			close
			block_formation			line
			block_relative_pos		12 0.0 -30.0
			inter_unit_spacing		10.0
			priority				1.0
		end_block

end_formation


;****************************************************************
; Column
; One unit wide
; Missile Cavalry
; Non Missile Cavalry*BARBARIAN FORMATION
; Missile Infantry
; Non Missile Infantry
;****************************************************************


begin_formation column

	general_order Group_Formation_Column

	;; First line of infantry
		begin_block 0
			min_units			3
                        not_general
			unit_type			light infantry 1.0
                        unit_type			heavy infantry 0.5
                        ;default_melee_state	defend
			;unit_density		close
			block_formation		line
			block_relative_pos	0 0.0 0.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;; second line of infantry
		begin_block 1
			min_units			3
                        not_general

                        unit_type			heavy infantry 1.0
                        ;default_melee_state	defend
			;unit_density		close
			block_formation		line
			block_relative_pos	0 0.0 -2.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

		;; 3rd line of infantry
		begin_block 2
			min_units			2
                        not_general
			unit_type			heavy infantry 0.4
			unit_type			spearmen 1.0
                        ;default_melee_state	defend
			block_formation		line
			block_relative_pos	1 0.0 -2.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

		;; Archers behind
		begin_block 3
                        not_general
			unit_type			ranged_missile_infantry 1.0
                        unit_type			non_phalanx_spear 0.5
                        ;default_melee_state	skirmish
			block_formation		line
			block_relative_pos	2 0.0 -6.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

	
		begin_dummy_block 4
			spans  0 1 2 3
		end_dummy_block

                ; Screen of missile inf
		begin_block 5
                        not_general
			unit_type			missile infantry 0.5
                        unit_type			elephants 1.0
                        unit_type			heavy_chariots 1.0
                        unit_type			any					0.01
                        ;default_melee_state	skirmish
			block_formation		line
			block_relative_pos	4 0.0 -6.0
			inter_unit_spacing	0.2
			priority			1.0
		end_block

;; artillery and handlers at the back
		begin_block 6
                        not_general
			unit_type			handler				1.0
			unit_type			siege				1.0
                        ;default_melee_state	skirmish
			block_formation		line
			block_relative_pos	4 0.0 -20.0
			inter_unit_spacing	10.0
			priority			0.5
		end_block


		;; cavalry on the flanks and back a bit

		;; left flank cav
		begin_block 7
                        not_general
			unit_type			cavalry 1.0
			block_formation		line
			block_relative_pos	4 -1.0 -5.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

                ;; left flank cav(more)
		begin_block 8
                        not_general
			unit_type			cavalry 1.0
			block_formation		line
			block_relative_pos	7 1 -3.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

		;; right_flank cav
		begin_block 9
                        not_general
			unit_type			cavalry 1.0
			block_formation		line
			block_relative_pos	4 1.0 -5.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

                ;; right_flank cav(more)
		begin_block 10
                        not_general
			unit_type			cavalry 1.0
			block_formation		line
			block_relative_pos	9 -1 -3.0
			inter_unit_spacing	0.2
			priority			0.5
		end_block

                begin_dummy_block 11
			spans 0 1 2 3 4 5 6 7 8 9 10 
		end_dummy_block

              

;; general at the back
		begin_block 12
			min_units				1
			max_units				1
			unit_type				general_unit			1.0
                        ;default_melee_state	skirmish
			;unit_density			close
			block_formation			line
			block_relative_pos		11 0.0 -10.0
			inter_unit_spacing		0.2
			priority				1.0
		end_block


end_formation




;****************************************************************
; Formation used when multiply selected units get moved
;****************************************************************


begin_formation unit_selection

	; row 0
	begin_block 0
		max_units			5
		unit_type			any 1.0
		;unit_density		close
		block_formation		line
		block_relative_pos	0 0.0 0.0
		inter_unit_spacing	0.2
		priority			1.0
	end_block

	; row 1
	begin_block 1
		max_units			5
		unit_type			any 1.0
		;unit_density		close
		block_formation		line
		block_relative_pos	0 0.0 -1.0
		inter_unit_spacing	0.2
		priority			0.0
	end_block

	; row 2
	begin_block 2
		max_units			5
		unit_type			any 1.0
		;unit_density		close
		block_formation		line
		block_relative_pos	1 0.0 -1.0
		inter_unit_spacing	0.2
		priority			0.0
	end_block

	; row 3
	begin_block 3
		unit_type			any 1.0
		;unit_density		close
		block_formation		line
		block_relative_pos	2 0.0 -1.0
		inter_unit_spacing	0.2
		priority			0.0
	end_block

end_formation